{
  "filename": "docs/events-test.md",
  "content": "# Push: Fix: Align local branch with remote\n\n## Overview\nThis script is designed to generate realistic GitHub events (pushes, pull requests, issues, and comments) for training AI models. It aligns with the local development environment by ensuring that the local branch (`master`) matches the remote repository's state before triggering events, preventing synchronization issues.\n\n## Usage\nRun the script in a directory that is a Git repository. It will present a menu to trigger different types of events:\n\n```bash\npython events_test.py\n```\n\nSelect an option from the menu:\n1. **Push (Code + Doc update)**: Simulates a commit that updates both code and documentation files, then pushes to the remote `master` branch.\n2. **Pull Request (New Feature Code + Docs)**: Creates a new feature branch, adds code and documentation files, pushes, and opens a PR via the GitHub API.\n3. **Issue (Refers to specific files)**: Creates a GitHub issue that references specific code or doc files.\n4. **Comment (Discusses code/docs)**: Adds a comment to a specific issue, discussing code or documentation.\n5. **Exit**: Terminates the program.\n\n## Configuration\nBefore running, update the following constants in the script:\n- `GITHUB_TOKEN`: Your personal GitHub access token (with repo permissions).\n- `REPO_OWNER`: Your GitHub username or organization name.\n- `REPO_NAME`: The target repository name.\n- `BRANCH_NAME`: The base branch (default: `master`).\n\n## Key Functions\n### `trigger_push()`\nGenerates a realistic push event by:\n1. Selecting a scenario from `get_push_content()` (e.g., updating a server port or fixing math logic).\n2. Updating code and documentation files accordingly.\n3. Staging and committing changes using Git.\n4. Pushing to the remote branch.\n\n### `trigger_pr()`\nGenerates a pull request by:\n1. Creating a new feature branch (with a timestamp suffix).\n2. Adding new code and documentation files based on a scenario from `get_pr_content()`.\n3. Pushing the branch to remote.\n4. Creating a PR via the GitHub API, linking the new branch to `BRANCH_NAME`.\n\n### `trigger_issue()`\nCreates a GitHub issue referencing specific code or documentation files (e.g., a bug in `src/main.py` or missing docs in `README.md`).\n\n### `trigger_comment(issue_number)`\nAdds a comment to an existing issue, discussing code or documentation (e.g., referencing `src/main.py` or `docs/api_v2.md`).\n\n## Helper Functions\n- `get_push_content()`: Returns a random scenario for push events (code + doc updates).\n- `get_pr_content()`: Returns a random scenario for PR events (new feature with code + docs).\n- `run_git(command)`: Executes a Git command via `subprocess` and handles errors.\n- `ensure_dir(file_path)`: Creates parent directories for a file path if they don't exist.\n\n## Event Scenarios\n### Push Scenarios\n1. **Update Server Port**: Changes the server port in `src/main.py` and updates `README.md` with the new port range.\n2. **Fix Math Logic**: Modifies `src/utils.js` to handle string inputs and updates `docs/api_v2.md` accordingly.\n\n### PR Scenarios\n1. **OAuth Login Flow**: Adds `src/auth.py` and documents the flow in `docs/auth.md`.\n2. **Database Connection Pooling**: Adds `src/db.py` and updates `docs/architecture.md`.\n\n## Security Note\nThis script uses a hardcoded GitHub token. In production, use environment variables or secure secret management to avoid exposing tokens.\n"
}